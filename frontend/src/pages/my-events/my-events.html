<!--
  Generated template for the MyEventsPage page.

  See http://ionicframework.com/docs/components/#navigation for more info on
  Ionic pages and navigation.
-->
<ion-header style="height: 50px;
background-color: #fcfcfc;">


  <ion-icon class="menuStyle" menuToggle name="menu"></ion-icon>

  <!-- <ion-icon class="optionsStyle pop-in" [ngClass]="{ 'expand' : expanded, 'contract': contracted }"
    (click)="expand('this')" name="add"></ion-icon> -->

  <ion-title style="width: 66vw; position: relative; top: 20px; left: 10vw;">
    <span style="font-size: 17px; color: #3b3b3b; font-weight: bold">Mes événements</span>
  </ion-title>
</ion-header>



<ion-content class="myview_myevents" padding>

  <div class="row" [ngStyle]="{'margin-top': topList, 'text-align': 'center'}">
    <ion-col (click)="selectParticipEvent()" [ngStyle]="{'border-bottom': participEvBorder}" col-6>
      J'y participe
    </ion-col>
    <ion-col (click)="selectOrgnizeEvent()" [ngStyle]="{'border-bottom': orgnizeEvBorder}" col-6>
      J'organise
    </ion-col>
  </div>

  <ion-list [ngStyle]="{'display': participEvBorderDisplay}">
    <ion-item-sliding *ngFor="let event of userInfo">
      <ion-item *ngIf="event != null" (click)='viewEventDetails(event)' style="margin-top: 10px" no-lines>
        <ion-thumbnail item-start>
          <img [src]='url + "/" + event.eventPhoto'>
        </ion-thumbnail>
        <h2 style="font-weight: bolder;">{{event.eventName}}</h2>
        <p>{{event.eventLocation}} •
          {{event.eventEndDate.substring(8,10)}}.{{event.eventEndDate.substring(5, 7)}}.{{event.eventEndDate.substring(0, 4)}}
          {{event.eventEndHour}}
        </p>
        <ion-badge style="font-size: 12px" class="pull-right" color="info">{{event.eventCommunityName}}</ion-badge>
      </ion-item>
      <ion-item-options side="right">
        <!-- <button style="position: relative; width: 100px" ion-button color="primary" (click)="viewEventDetails(item)">
                        <ion-icon name="eye"></ion-icon>
                        Voir
                      </button> -->
        <button ion-button style="position: relative; width: 100px" color="danger" (click)="unsubscrib(event.eventId)">
          <ion-icon name="people"></ion-icon>
          Desinscrire
        </button>
      </ion-item-options>
    </ion-item-sliding>
  </ion-list>

  <ion-list [ngStyle]="{'display': orgnizeEvBorderDisplay}">
    <ion-item-sliding *ngFor="let event of proposedEvents">

      <ion-item (click)='viewEventDetails(event)' style="margin-top: 10px" no-lines>
        <ion-thumbnail style="min-width: 5rem;    
                    min-height: 5rem;" item-start>
          <img style="max-width: 6rem;    
                      min-width: 5rem;" [src]='url + "/" + event.eventPhoto'>
        </ion-thumbnail>
        <h2 style="font-weight: bolder;">{{event.eventName}}</h2>
        <p>{{event.eventLocation}} •
          {{event.eventEndDate.substring(8,10)}}.{{event.eventEndDate.substring(5, 7)}}.{{event.eventEndDate.substring(0, 4)}}
          {{event.eventEndHour}}
        </p>
      </ion-item>

      <ion-item-options side="right">
        <!-- <button style="position: relative; width: 100px" ion-button color="primary" (click)="viewEventDetails(item)">
                  <ion-icon name="eye"></ion-icon>
                  Voir
                </button> -->
        <button class="pop-in" [ngClass]="{ 'expand' : expanded, 'contract': contracted }" (click)="expand(event)"
          style="position: relative; width: 100px" ion-button color="secondary">
          <ion-icon name="create"></ion-icon>
          Modifier
        </button>
        <button ion-button style="position: relative; width: 100px" color="danger" (click)="deleteEvent(event)">
          <ion-icon name="trash"></ion-icon>
          Supprimer
        </button>
      </ion-item-options>
    </ion-item-sliding>
  </ion-list>



  <!-- 
  <accordion-list *ngFor="let itm of eventParticipated; let index = index" [title]="itm.name" textColor="#FFF"
    hasMargin="false" headerColor="#F53D3D" [expanded]="index === 0">
    
  </accordion-list> -->
  <!-- 
  <accordion-list *ngFor="let itm of eventPropose; let index = index" [title]="itm.name" textColor="#FFF"
    hasMargin="false" headerColor="#F53D3D" [expanded]="index === 0">

    

  </accordion-list> -->


</ion-content>

<ion-footer>
  <ion-fab (click)="expand('this')" style="margin-bottom: 16vw" bottom right mini #fab>
    <button ion-fab style="background-color: #d1c9c3;" mini>
      <ion-icon  [ngClass]="{ 'expand' : expanded, 'contract': contracted }"
       style="color:black; font-size: 32px" name="add"></ion-icon>
    </button>
  </ion-fab>
</ion-footer>
