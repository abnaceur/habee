<!--
  Generated template for the LoginPage page.

  See http://ionicframework.com/docs/components/#navigation for more info on
  Ionic pages and navigation.
-->

<ion-content class="myview" padding>
  <ion-row>
    <ion-col col-12 text-center>
      <div class="center">
        <img src="../../assets/imgs/xxhdpi.png" />
        <ion-label style="font-family: -webkit-body; margin-top:-10px; font-weight:bold;font-size:28px; color:white">
          Habee
        </ion-label>
      </div>
    </ion-col>

  </ion-row>

  <ion-grid style="position:relative; top: 15%">
    <form [formGroup]="authForm" (ngSubmit)="onSubmit(authForm.value)">

      <ion-item style="background-color: white;  opacity: 0.7 ; color: white"
        [ngClass]="{'error-border':!authForm.controls.email.valid && authForm.controls.email.touched}">
        <!--   <ion-label floating>E-mail</ion-label> -->
        <ion-input style="color: darkblue" placeholder="Email" formControlName="email" clearOnEdit="false" type="text"></ion-input>
      </ion-item>

      <ion-item *ngIf="authForm.controls.email.hasError('required') && authForm.controls.email.touched">
        <p>Ce champ est obligatoire</p>
      </ion-item>

      <ion-item *ngIf="authForm.controls.email.hasError('pattern') && authForm.controls.email.touched">
        <p>L'email n'est pas valide</p>
      </ion-item>

      <!--
              <ion-item *ngIf="authForm.controls.email.hasError('required') && authForm.controls.email.touched">
                <p>Sorry, field email is required!</p>
              </ion-item>
              <ion-item *ngIf="authForm.controls.email.hasError('pattern') && authForm.controls.email.touched">
                 <p>Sorry, email format not valid!</p>
              </ion-item> -->



      <ion-item style="background-color: white;  opacity: 0.7"
        [ngClass]="{'error-border':!authForm.controls.password.valid && authForm.controls.password.touched}">
        <!--  <ion-label floating>Mot de passe</ion-label> -->
        <ion-input style="color: darkblue" placeholder="Mot de passe" clearOnEdit="false" formControlName="password" type={{passwordType}}>
        </ion-input>
        <button style="color: blueviolet;  opacity: 10; font-size: 19px;" *ngIf="showPasswordText" ion-button clear
          color="dark" type="button" item-right (click)="showPassword()">
          <ion-icon name="ios-eye-off-outline"></ion-icon>
        </button>
        <button style="color: blueviolet;  opacity: 10; font-size: 19px;" *ngIf="!showPasswordText" ion-button clear
          color="dark" type="button" item-right (click)="showPassword()">
          <ion-icon name="ios-eye-outline"></ion-icon>
        </button>
      </ion-item>

      <ion-item text-wrap
        *ngIf="authForm.controls.password.hasError('minlength') && authForm.controls.password.touched">
        <p>Votre mot de passe doit contenir un minimum de 8 caractères </p>
      </ion-item>

      <ion-item *ngIf="authForm.controls.password.hasError('required') && authForm.controls.password.touched">
        <p>Ce champ est obligatoire</p>
      </ion-item>

      <div (click)="resetPassword()" style="float: right;color: white; font-weight: 700">
        <ion-label>
          Mot de passe oublié ?
        </ion-label>
      </div>

    </form>
  </ion-grid>

</ion-content>

<ion-footer>
<form [formGroup]="authForm" (ngSubmit)="onSubmit(authForm.value)">
  <div style="z-index:111; position: absolute; background-color: transparent; bottom: 0px; width: 100%">
    <div class="row">
      <button type="submit" ion-button style="color: wite; background-color:#45D8E5;"
        class="col col-50 button button-block">CONNEXION
      </button>
      <button  type="button" ion-button (click)="showInscription()" style="color:#45D8E5; background-color: #FFFFFF;"
        class="col col-50 button button-block">INSCRIPTION</button>
    </div>
  </div>
</form>
</ion-footer>